import{c as r,o as d,F as h,f as $,a as e,t as l,e as x,w as f,g as C,r as b,b as V,h as y}from"./index-7pk8QF21.js";const k={class:"list-group"},w=["onClick"],T={class:"d-flex w-100 justify-content-between"},g={class:"mb-1"},P={class:"mb-1"},q={__name:"DrinkMenu",props:{drinkMenu:{type:Array,required:!0}},emits:["add-to-cart"],setup(i,{emit:_}){const t=_,s=a=>{t("add-to-cart",a)};return(a,m)=>(d(),r("div",k,[(d(!0),r(h,null,$(i.drinkMenu,o=>(d(),r("a",{href:"#",class:"list-group-item list-group-item-action",key:o.id,onClick:n=>s(o)},[e("div",T,[e("h5",g,l(o.title),1),e("small",null,"$"+l(o.price),1)]),e("p",P,l(o.description),1)],8,w))),128))]))}},O={class:"card"},A={class:"card-body"},M={class:"card-title"},N={class:"table"},j={class:"text-end"},B={class:"text-end"},D={__name:"Order",props:{order:{type:Object,required:!0}},setup(i){return(_,t)=>(d(),r("div",O,[e("div",A,[e("div",M,[t[3]||(t[3]=e("h5",null,"訂單",-1)),e("table",N,[t[0]||(t[0]=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"數量"),e("th",{scope:"col"},"小計")])],-1)),e("tbody",null,[(d(!0),r(h,null,$(i.order.orderList,s=>(d(),r("tr",{key:s},[e("td",null,l(s.name),1),e("td",null,l(s.count),1),e("td",null,l(s.price*s.count),1)]))),128))])]),e("div",j,[t[1]||(t[1]=x(" 備註: ",-1)),e("span",null,l(i.order.comment),1)]),e("div",B,[e("h5",null,[t[2]||(t[2]=x(" 總計: ",-1)),e("span",null,"$"+l(i.order.totalPrice),1)])])])])]))}},L={class:"table"},S=["onClick"],U=["onUpdate:modelValue"],F=["value"],Q={class:"text-end mb-3"},R=["value"],E={__name:"Cart",props:{cart:{type:Array,required:!0},cartTotalPrice:{type:Number,required:!0},modelValue:{type:String,required:!0}},emits:["create-order","update:modelValue","remove-cart-item"],setup(i,{emit:_}){const t=_,s=()=>{t("create-order")},a=m=>{t("remove-cart-item",m)};return(m,o)=>(d(),r(h,null,[e("table",L,[o[1]||(o[1]=e("thead",null,[e("tr",null,[e("th",{scope:"col",width:"50"},"操作"),e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"描述"),e("th",{scope:"col",width:"90"},"數量"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"小計")])],-1)),e("tbody",null,[(d(!0),r(h,null,$(i.cart,n=>(d(),r("tr",{key:n.id},[e("td",null,[e("button",{type:"button",class:"btn btn-sm",onClick:u=>a(n.id)},"x",8,S)]),e("td",null,l(n.name),1),e("td",null,[e("small",null,l(n.description),1)]),e("td",null,[f(e("select",{class:"form-select","onUpdate:modelValue":u=>n.count=u},[(d(),r(h,null,$(10,u=>e("option",{value:u,key:u},l(u),9,F)),64))],8,U),[[C,n.count,void 0,{number:!0}]])]),e("td",null,l(n.price),1),e("td",null,l(n.price*n.count),1)]))),128))])]),e("div",Q,[e("h5",null,[o[2]||(o[2]=x(" 總計: ",-1)),e("span",null,"$"+l(i.cartTotalPrice),1)])]),e("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註",value:i.modelValue,onInput:o[0]||(o[0]=n=>t("update:modelValue",n.target.value))},null,40,R),e("div",{class:"text-end"},[e("button",{class:"btn btn-primary",onClick:s},"送出")])],64))}},W={id:"root"},z={class:"container mt-5"},G={class:"row"},H={class:"col-md-4"},J={class:"col-md-8"},K={class:"row justify-content-center"},X={class:"col-8"},Z={__name:"Week3View",setup(i){const _=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}],t=b([]),s=V(()=>t.value.reduce((p,c)=>p+=c.price*c.count,0)),a=b({}),m=b(""),o=p=>{t.value.findIndex(v=>v.id===p.id)<0&&(p.count=1,t.value.push(p))},n=p=>{const c=t.value.findIndex(v=>v.id===p);t.value.splice(c,1)},u=()=>{a.value.orderList=t.value,a.value.comment=m.value,a.value.totalPrice=s.value};return(p,c)=>(d(),r("div",W,[e("div",z,[e("div",G,[e("div",H,[y(q,{"drink-menu":_,onAddToCart:o})]),e("div",J,[y(E,{cart:t.value,cartTotalPrice:s.value,onCreateOrder:u,onRemoveCartItem:n,modelValue:m.value,"onUpdate:modelValue":c[0]||(c[0]=v=>m.value=v)},null,8,["cart","cartTotalPrice","modelValue"])])]),c[1]||(c[1]=e("hr",null,null,-1)),e("div",K,[e("div",X,[y(D,{order:a.value},null,8,["order"])])])])]))}};export{Z as default};
